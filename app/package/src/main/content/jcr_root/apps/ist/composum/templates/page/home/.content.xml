<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cpp="http://sling.composum.com/pages/1.0"
        xmlns:jcr="http://www.jcp.org/jcr/1.0"
        xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
        xmlns:sling="http://sling.apache.org/jcr/sling/1.0"
        jcr:primaryType="cpp:Page">
    <jcr:content
            jcr:primaryType="cpp:PageContent"
            jcr:title="Composum Site Homepage"
            jcr:description="A sites root page with a carousel on top of the page and a container to arrange content of all general element types including rows and columns."
            sling:resourceType="composum/pages/components/page/home"
            allowedParentTemplates="[
                ^(.*/)?ist/composum/templates/site/.*$,
                ^(.*/)?ist/composum/templates/page/(home|content)$
            ]"
            allowedChildTemplates="[
                ^(.*/)?ist/composum/templates/page/([^/]+|subsite/root)$,
                ^(.*/)?ist/composum/templates/blog/(root)$,
                ^(.*/)?pages/options/(microsite)/template(s(/page)?(/.+)?)?$
            ]">
        <logo
                jcr:primaryType="nt:unstructured"
                sling:resourceType="composum/pages/components/element/image"
                imageRef="/content/shared/composum/pages/components/assets/logo/Composum-color.svg"/>
        <search
                jcr:primaryType="nt:unstructured">
            <field
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="composum/pages/components/search/field"
                    buttonSymbol="search"
                    searchResultPath="${site}/home/meta/search">
            </field>
        </search>
        <stage
                jcr:primaryType="cpp:Container"
                sling:resourceType="composum/pages/components/composed/carousel"
                autoStart="{Boolean}true"
                interval="10000"
                showIndicators="{Boolean}true"
                useControls="{Boolean}true">
            <cpp:design
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="composum/pages/stage/edit/page/design"
                    typePatterns="[
                        ^(/[^/]+/)?composum/pages/components/composed/carousel$
                    ]"
                    allowedElements="[
                        ^(/[^/]+/)?composum/pages/components/element/teaser$
                    ]">
            </cpp:design>
        </stage>
        <main
                jcr:primaryType="cpp:Container"
                sling:resourceType="composum/pages/components/container/parsys">
            <cpp:design
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="composum/pages/stage/edit/page/design"
                    designRef="/apps/ist/composum/templates/page/design/main/cpp:design"/>
        </main>
        <bottom
                jcr:primaryType="cpp:Container"
                sling:resourceType="composum/pages/components/container/iparsys">
            <cpp:design
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="composum/pages/stage/edit/page/design"
                    designRef="/apps/ist/composum/templates/page/design/bottom/cpp:design"/>
        </bottom>
        <cpp:design
                jcr:primaryType="nt:unstructured"
                sling:resourceType="composum/pages/stage/edit/page/design"
                designRef="/apps/ist/composum/templates/page/design/cpp:design"/>
    </jcr:content>
    <meta/>
</jcr:root>